<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./과제1.css">
    </head>
    <body>
        <ul id="container" class="container">
        </ul>
        <script>
            class Container {
                constructor(elem) {
                    this._elem = elem;
                    elem.onclick = this.onClick.bind(this);
                }

                addAnimal(name, description){
                    const animal = new Animal(name, description);
                    animal.addToElement(this._elem);
                }

                onClick(event){
                    const animalToClose = event.target.closest('.animal');
                    if (animalToClose && this._elem.contains(animalToClose)){
                        this._elem.removeChild(animalToClose);
                    }
                }
            }

            class Animal {
                constructor(name, description) {
                    this._name = name;
                    this._description = description;
                }

                _createContainer() {
                    const animal = document.createElement('div');
                    animal.className = 'animal';
                    return animal
                }

                _createAnimalName() {
                    const animalName = document.createElement('h3');
                    animalName.className = 'animal__name';
                    animalName.innerText = this._name;
                    return animalName
                }

                _createAnimalDescription(description){
                    const animalDescription = document.createElement('span');
                    animalDescription.className = 'animal__description';
                    animalDescription.innerText = this._description;
                    return animalDescription
                }

                _createCloseButton() {
                    const closeButton = document.createElement('button')
                    closeButton.className = 'animal__close-btn';
                    closeButton.innerText = '[X]';
                    return closeButton
                }

                _createAnimalElement() {
                    const animal = this._createContainer();
                    const name = this._createAnimalName();
                    const description = this._createAnimalDescription();
                    const closeButton = this._createCloseButton();
                    animal.appendChild(name);
                    animal.appendChild(description);
                    animal.appendChild(closeButton);
                    return animal;
                }

                addToElement(elem){
                    console.log(elem);
                    const animal = this._createAnimalElement();
                    elem.appendChild(animal)
                }
            }

            const animalContainer = new Container(container);
            animalContainer.addAnimal('donkey', '당나귀는 어쩌고 저쩌고');
            animalContainer.addAnimal('monkey', '원숭이는 어쩌고 저쩌고');
            animalContainer.addAnimal('horse', '말은 또 어쩌고 저쩌고');

        </script>
    </body>
</html>
